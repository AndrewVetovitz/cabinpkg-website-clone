## lockファイル

lockファイルは、poac.ymlファイルを作成後、poac installを実行すると、自動的に作成されるファイルです。
勝手に編集してはいけません、未定義の動作を引き起こします。

lockファイルは現状の依存関係をロックするためにあります。

例えば、現在のプロジェクトがAに依存し、そのAがBの ">=1.0.0 and <=2.0.0"の範囲に依存しているとしましょう。
そして現在は、Bは、1.0.0しかリリースされていません。
それで上手く動作していてよかったのですが、
Bの2.0.0がリリースされ、破壊的変更がされました。
すると、次回インストール時に、Aが指定している範囲に入ってしまうため、2.0.0がインストールされ、運悪く動作しなくなりました。
これでは困ります。

そこでlockファイルです。
lockファイルは、明示的にupdateコマンドを実行するか、poac.ymlを書き換えるか、poac.lockを削除しない限り、Bを1.0.0に固定します。
poac.ymlを書き換えると、前回とは違うと判断し、lockファイルを無視します。
そのため、Aに関係しない変更を加えたとしても、Bが、2.0.0に変更されてしまいます。
この場合は、明示的に、poac.ymlにB: ">=1.0.0 and <2.0.0"と加えてください。


C++は、Rustと違い複数の別バージョンの同じライブラリをリンクすることができません。(TODO: C++ができないことの出典が必要！)
そのため、Cargoに比べて依存関係の解決に失敗する確率が高いです。
なので、C++ではできるだけ、npmのすごく細かいライブラリを量産する文化が根付かないほうが良いでしょう。
勿論、C++23辺りでmoduleに対応できれば話は別ですが、一体いつになるでしょうか。
